<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Aushadha Mitra</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Styles for search bar with dropdown */
    .search-container {
      max-width: 700px;
      margin: 25px auto;
      position: relative;
    }
    .search-bar {
      position: relative;
    }
    .search-bar input {
      width: 100%;
      box-sizing: border-box;
      padding: 25px 20px;
      font-size: 20px;
      text-align: center;
      border: 1px solid #e0e0e0;
      border-radius: 10px;
      outline: none;
      transition: all 0.3s ease;
    }
    .search-bar input:focus {
      border-color: #007bff;
      box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
      text-align: left;
    }
    .dropdown-container {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: white;
      border: 1px solid #e0e0e0;
      border-top: none;
      border-radius: 0 0 10px 10px;
      max-height: 300px;
      overflow-y: auto;
      z-index: 1000;
      display: none;
    }
    .dropdown-section {
      padding: 10px 0;
      border-bottom: 1px solid #f0f0f0;
    }
    .dropdown-section:last-child {
      border-bottom: none;
    }
    .dropdown-header {
      padding: 8px 20px;
      font-weight: 600;
      color: #007bff;
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .dropdown-item {
      padding: 12px 20px;
      cursor: pointer;
      border-bottom: 1px solid #f5f5f5;
      transition: background-color 0.2s;
    }
    .dropdown-item:hover {
      background-color: #f8f9fa;
    }
    .dropdown-item:last-child {
      border-bottom: none;
    }
    .hospital-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .hospital-name {
      font-weight: 500;
      color: #333;
    }
    .hospital-status {
      font-size: 12px;
      color: #666;
    }
    .wait-time {
      font-size: 12px;
      font-weight: 600;
      color: #28a745;
    }
    .symptom-item {
      color: #555;
      font-size: 16px;
    }
    
    /* Location dropdown styles */
    .location-container {
      position: relative;
      width: 100%;
      max-width: 400px;
      margin: 0 auto;
    }
    .location-input {
      width: 100%;
      padding: 12px 16px;
      font-size: 16px;
      border: 2px solid #e0e6ed;
      border-radius: 12px;
      outline: none;
      transition: all 0.3s ease;
      background-color: #fff;
      box-sizing: border-box;
    }
    .location-input:focus {
      border-color: #4CAF50;
      box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
    }
    .location-dropdown {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: white;
      border: 1px solid #e0e6ed;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      max-height: 200px;
      overflow-y: auto;
      z-index: 1000;
      display: none;
    }
    .location-item {
      padding: 12px 16px;
      cursor: pointer;
      border-bottom: 1px solid #f0f0f0;
      transition: background-color 0.2s;
    }
    .location-item:hover {
      background-color: #f8f9fa;
    }
    .location-item:last-child {
      border-bottom: none;
    }
  </style>
</head>
<body class="home-body">

  <header class="header-bar">
    <div class="location-container">
      <input type="text" placeholder="üìç Enter your location..." class="location-input" />
      <div class="location-dropdown">
        <div class="location-item">Mumbai</div>
        <div class="location-item">Delhi</div>
        <div class="location-item">Bangalore</div>
        <div class="location-item">Hyderabad</div>
        <div class="location-item">Chennai</div>
        <div class="location-item">Kolkata</div>
        <div class="location-item">Pune</div>
        <div class="location-item">Ahmedabad</div>
        <div class="location-item">Jaipur</div>
        <div class="location-item">Lucknow</div>
        <div class="location-item">Kanpur</div>
        <div class="location-item">Nagpur</div>
        <div class="location-item">Indore</div>
        <div class="location-item">Bhopal</div>
        <div class="location-item">Visakhapatnam</div>
        <div class="location-item">Patna</div>
        <div class="location-item">Vadodara</div>
        <div class="location-item">Ghaziabad</div>
        <div class="location-item">Ludhiana</div>
        <div class="location-item">Coimbatore</div>
      </div>
    </div>
  </header>

  <div class="container">
    <h1 class="title">Aushadha Mitra </h1>

    <div class="search-container">
      <div class="search-bar">
        <input type="text" id="searchInput" placeholder="üîçSearch hospitals or symptoms..." autocomplete="off" />
        <div class="dropdown-container" id="dropdownContainer">
          <!-- Hospitals Section -->
          <div class="dropdown-section" id="hospitalsSection">
            <div class="dropdown-header">üè• Hospitals</div>
            <div class="dropdown-item" onclick="selectHospital('Hospital A')">
              <div class="hospital-item">
                <div>
                  <div class="hospital-name">Hospital A</div>
                  <div class="hospital-status">123 Health Street, City A</div>
                </div>
                <div class="wait-time">45 min wait</div>
              </div>
            </div>
            <div class="dropdown-item" onclick="selectHospital('Hospital B')">
              <div class="hospital-item">
                <div>
                  <div class="hospital-name">Hospital B</div>
                  <div class="hospital-status">456 Wellness Avenue, City B</div>
                </div>
                <div class="wait-time">25 min wait</div>
              </div>
            </div>
            <div class="dropdown-item" onclick="selectHospital('Hospital C')">
              <div class="hospital-item">
                <div>
                  <div class="hospital-name">Hospital C</div>
                  <div class="hospital-status">789 Care Boulevard, City C</div>
                </div>
                <div class="wait-time">90 min wait</div>
              </div>
            </div>
            <div class="dropdown-item" onclick="selectHospital('Hospital X')">
              <div class="hospital-item">
                <div>
                  <div class="hospital-name">Hospital X</div>
                  <div class="hospital-status">101 Remedy Lane, City X</div>
                </div>
                <div class="wait-time">35 min wait</div>
              </div>
            </div>
            <div class="dropdown-item" onclick="selectHospital('Hospital Y')">
              <div class="hospital-item">
                <div>
                  <div class="hospital-name">Hospital Y</div>
                  <div class="hospital-status">222 Life Point, City Y</div>
                </div>
                <div class="wait-time">55 min wait</div>
              </div>
            </div>
            <div class="dropdown-item" onclick="selectHospital('Hospital Z')">
              <div class="hospital-item">
                <div>
                  <div class="hospital-name">Hospital Z</div>
                  <div class="hospital-status">333 Hope Plaza, City Z</div>
                </div>
                <div class="wait-time">20 min wait</div>
              </div>
            </div>
          </div>
          
          <!-- Symptoms Section -->
          <div class="dropdown-section" id="symptomsSection">
            <div class="dropdown-header">ü©∫ Common Symptoms</div>
            <div class="dropdown-item" onclick="selectSymptom('Fever')">
              <div class="symptom-item">Fever</div>
            </div>
            <div class="dropdown-item" onclick="selectSymptom('Headache')">
              <div class="symptom-item">Headache</div>
            </div>
            <div class="dropdown-item" onclick="selectSymptom('Chest Pain')">
              <div class="symptom-item">Chest Pain</div>
            </div>
            <div class="dropdown-item" onclick="selectSymptom('Joint Pain')">
              <div class="symptom-item">Joint Pain</div>
            </div>
            <div class="dropdown-item" onclick="selectSymptom('Stomach Pain')">
              <div class="symptom-item">Stomach Pain</div>
            </div>
            <div class="dropdown-item" onclick="selectSymptom('Skin Issues')">
              <div class="symptom-item">Skin Issues</div>
            </div>
            <div class="dropdown-item" onclick="selectSymptom('Eye Problems')">
              <div class="symptom-item">Eye Problems</div>
            </div>
            <div class="dropdown-item" onclick="selectSymptom('Dental Issues')">
              <div class="symptom-item">Dental Issues</div>
            </div>
            <div class="dropdown-item" onclick="selectSymptom('Mental Health')">
              <div class="symptom-item">Mental Health</div>
            </div>
            <div class="dropdown-item" onclick="selectSymptom('Breathing Issues')">
              <div class="symptom-item">Breathing Issues</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="image-tabs">
      <a href="labs.html" class="image-button">
        <img src="labs.png" class="tab-image" alt="Labs" />
        <p>Labs</p>
      </a>
      <a href="medicines.html" class="image-button">
        <img src="medicines.png" class="tab-image" alt="Medicines" />
        <p>Medicines</p>
      </a>
      <a href="vaccines.html" class="image-button">
        <img src="vaccines.png" class="tab-image" alt="Vaccines" />
        <p>Vaccines</p>
      </a>
      <a href="campaigns.html" class="image-button">
        <img src="campaigns.png" class="tab-image" alt="Health Campaigns" />
        <p>Health Campaigns</p>
      </a>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Location dropdown functionality
      const locationInput = document.querySelector('.location-input');
      const locationDropdown = document.querySelector('.location-dropdown');
      const locationItems = document.querySelectorAll('.location-item');

      // Show dropdown on input focus
      locationInput.addEventListener('focus', function() {
        locationDropdown.style.display = 'block';
        filterLocations();
      });

      // Filter locations based on input value
      locationInput.addEventListener('input', function() {
        filterLocations();
      });

      // Handle location item selection
      locationItems.forEach(item => {
        item.addEventListener('click', function() {
          locationInput.value = this.textContent;
          locationDropdown.style.display = 'none';
        });
      });

      // Filter function for locations
      function filterLocations() {
        const searchTerm = locationInput.value.toLowerCase();
        let hasVisibleItems = false;

        locationItems.forEach(item => {
          const cityName = item.textContent.toLowerCase();
          if (cityName.includes(searchTerm)) {
            item.style.display = 'block';
            hasVisibleItems = true;
          } else {
            item.style.display = 'none';
          }
        });

        if (hasVisibleItems) {
          locationDropdown.style.display = 'block';
        } else {
          locationDropdown.style.display = 'none';
        }
      }

      // Main search bar functionality
      const searchInput = document.getElementById('searchInput');
      const dropdownContainer = document.getElementById('dropdownContainer');
      const hospitalsSection = document.getElementById('hospitalsSection');
      const symptomsSection = document.getElementById('symptomsSection');
      
      // Hospital data mapping
      const hospitalMapping = {
        'Hospital A': 'hospital_a.html',
        'Hospital B': 'hospital_b.html', 
        'Hospital C': 'hospital_c.html',
        'Hospital X': 'hospital_x.html',
        'Hospital Y': 'hospital_y.html',
        'Hospital Z': 'hospital_z.html'
      };
      
      // Show dropdown when input is focused
      searchInput.addEventListener('focus', function() {
        dropdownContainer.style.display = 'block';
        filterDropdown('');
      });
      
      // Filter dropdown based on input
      searchInput.addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase();
        filterDropdown(searchTerm);
      });
      
      function filterDropdown(searchTerm) {
        const hospitalItems = hospitalsSection.querySelectorAll('.dropdown-item');
        const symptomItems = symptomsSection.querySelectorAll('.dropdown-item');
        
        let hasVisibleHospitals = false;
        let hasVisibleSymptoms = false;
        
        // Filter hospitals
        hospitalItems.forEach(item => {
          const hospitalName = item.querySelector('.hospital-name');
          if (hospitalName) {
            const text = hospitalName.textContent.toLowerCase();
            if (text.includes(searchTerm)) {
              item.style.display = 'block';
              hasVisibleHospitals = true;
            } else {
              item.style.display = 'none';
            }
          }
        });
        
        // Filter symptoms
        symptomItems.forEach(item => {
          const symptomText = item.querySelector('.symptom-item');
          if (symptomText) {
            const text = symptomText.textContent.toLowerCase();
            if (text.includes(searchTerm)) {
              item.style.display = 'block';
              hasVisibleSymptoms = true;
            } else {
              item.style.display = 'none';
            }
          }
        });
        
        // Show/hide sections based on visible items
        hospitalsSection.style.display = hasVisibleHospitals ? 'block' : 'none';
        symptomsSection.style.display = hasVisibleSymptoms ? 'block' : 'none';
      }
      
      // Handle hospital selection
      window.selectHospital = function(hospitalName) {
        const hospitalFile = hospitalMapping[hospitalName];
        if (hospitalFile) {
          window.location.href = hospitalFile;
        }
      }
      
      // Handle symptom selection (show relevant hospitals)
      window.selectSymptom = function(symptom) {
        // Store the selected symptom and show related content
        localStorage.setItem('selectedSymptom', symptom);
        // For now, just show an alert - you can enhance this later
        alert(`Searching for hospitals that can treat: ${symptom}`);
      }
      
      // Handle Enter key press
      searchInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          const searchTerm = this.value.toLowerCase();
          
          // Check if it matches a hospital
          for (const [hospitalName, hospitalFile] of Object.entries(hospitalMapping)) {
            if (hospitalName.toLowerCase().includes(searchTerm)) {
              window.location.href = hospitalFile;
              return;
            }
          }
          
          // If no hospital match, treat as symptom
          localStorage.setItem('selectedSymptom', this.value);
          alert(`Searching for hospitals that can treat: ${this.value}`);
        }
      });

      // Hide dropdowns when clicking outside
      document.addEventListener('click', function(event) {
        if (!event.target.closest('.location-container')) {
          locationDropdown.style.display = 'none';
        }
        if (!event.target.closest('.search-container')) {
          dropdownContainer.style.display = 'none';
        }
      });

      // Check if there's a selected symptom from index.html
      const selectedSymptom = localStorage.getItem('selectedSymptom');
      if (selectedSymptom) {
        searchInput.value = selectedSymptom;
        searchInput.focus();
        localStorage.removeItem('selectedSymptom'); // Clear it after use
      }
    });
  </script>

</body>
</html>
